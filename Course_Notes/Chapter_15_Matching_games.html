<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <script src="https://d3eoax9i5htok0.cloudfront.net/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h1 id="or-3-chapter-15---matching-games"><span class="header-section-number">1</span> OR 3: Chapter 15 - Matching games</h1>
<h2 id="recap"><span class="header-section-number">1.1</span> Recap</h2>
<p>In the <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/Chapter_14_Stochastic_games.html">previous chapter</a>:</p>
<ul>
<li>We defined stochastic games;</li>
<li>We investigated approached to obtaining Markov strategy Nash equilibria.</li>
</ul>
<p>In this chapter we will take a look at a very different type of game.</p>
<h2 id="matching-games"><span class="header-section-number">1.2</span> Matching Games</h2>
<p>Consider the following situation:</p>
<blockquote>
<p>&quot;In a population of \(N\) suitors and \(N\) reviewers. We allow the suitors and reviewers to rank their preferences and are now trying to match the suitors and reviewers in such a way as that every matching is stable.&quot;</p>
</blockquote>
<p>If we consider the following example with suitors: \(S=\{a,b,c\}\) and reviewers: \(R=\{A,B,C\}\) with preferences shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img01.png" /><p class="caption"></p>
</div>
<p>So that \(c\) would prefer to be matched with \(b\), then \(c\) and lastly \(c\). One possible matching would be is shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img02.png" /><p class="caption"></p>
</div>
<p>In this situation, \(a\) and \(b\) are getting their first choice and \(c\) their second choice. However \(B\) actually prefers \(c\) so that matching is unstable.</p>
<p>Let us write down some formal definitions:</p>
<h3 id="definition-of-a-matching-game"><span class="header-section-number">1.2.1</span> Definition of a matching game</h3>
<hr />
<p>A matching game of size \(N\) is defined by two disjoint sets \(S\) and \(R\) or suitors and reviewers of size \(N\). Associated to each element of \(S\) and \(R\) is a preference list:</p>
<p>\[f:S\to R^N\text{ and }g:R\to S^N\]</p>
<p>A matching \(M\) is a any bijection between \(S\) and \(R\). If \(s\in S\) and \(r\in R\) are matched by \(M\) we denote:</p>
<p>\[M(s)=r\]</p>
<hr />
<h3 id="definition-of-a-blocking-pair"><span class="header-section-number">1.2.2</span> Definition of a blocking pair</h3>
<hr />
<p>A pair \((s,r)\) is said to <strong>block</strong> a matching \(M\) if \(M(s)\ne r\) but \(s\) prefers \(r\) to \(M(r)\) and \(r\) prefers \(s\) to \(M^{-1}(r)\).</p>
<hr />
<p>In our previous example \((c,B)\) blocks the proposed matching.</p>
<h3 id="definition-of-a-stable-matching"><span class="header-section-number">1.2.3</span> Definition of a stable matching</h3>
<hr />
<p>A matching \(M\) with no blocking pair is said to be stable.</p>
<hr />
<p>A stable matching is shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img03.png" /><p class="caption"></p>
</div>
<p>The stable matching is not unique, the matching shown is also stable:</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img04.png" /><p class="caption"></p>
</div>
<h2 id="the-gale-shapley-algorithm"><span class="header-section-number">1.3</span> The Gale-Shapley Algorithm</h2>
<p>Here is the Gale-Shapley algorithm, which gives a stable matching for a matching game:</p>
<ol style="list-style-type: decimal">
<li>Assign every \(s\in S\) and \(r\in R\) to be unmatched</li>
<li>Pick some unmatched \(s\in S\), let \(r\) be the top of \(s\)'s preference list:
<ul>
<li>If \(r\) is unmatched set \(M(s)=r\)</li>
<li>If \(r\) is matched:
<ul>
<li>If \(r\) prefers \(s\) to \(M^{-1}(r)\) then set \(M(r)=s\)</li>
<li>Otherwise \(s\) remains unmatched and remove \(r\) from \(r\)'s preference list.</li>
</ul></li>
</ul></li>
<li>Repeat step 2 until all \(s\in S\) are matched.</li>
</ol>
<p>Let us illustrate this algorithm with the above example.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img05.png" /><p class="caption"></p>
</div>
<p>We pick \(c\) and as all the reviewers are unmatched set \(M(c)=B\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img06.png" /><p class="caption"></p>
</div>
<p>We pick \(b\) and as \(B\) is matched but prefers \(c\) to \(b\) we cross out \(B\) from \(b\)'s preferences.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img07.png" /><p class="caption"></p>
</div>
<p>We pick \(b\) again and set \(M(b)=C\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img08.png" /><p class="caption"></p>
</div>
<p>We pick \(a\) and set \(M(a)=A\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img04.png" /><p class="caption"></p>
</div>
<p><strong>Let us repeat the algorithm but pick \(b\) as our first suitor. </strong></p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img05.png" /><p class="caption"></p>
</div>
<p>We pick \(b\) and as all the reviewers are unmatched set \(M(b)=B\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img09.png" /><p class="caption"></p>
</div>
<p>We pick \(a\) and as \(A\) is unmatched set \(M(a)=A\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img10.png" /><p class="caption"></p>
</div>
<p>We pick \(c\) and \(b\) is matched but prefers \(c\) to \(M^{-1}(B)=b\), we set \(M(c)=B\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img11.png" /><p class="caption"></p>
</div>
<p>We pick \(b\) and as \(B\) is matched but prefers \(c\) to \(b\) we cross out \(B\) from \(b\)'s preferences:</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img12.png" /><p class="caption"></p>
</div>
<p>We pick \(b\) again and set \(M(b)=C\).</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img13.png" /><p class="caption"></p>
</div>
<p>Both these have given the same matching.</p>
<h3 id="theorem-guaranteeing-a-unique-matching-as-output-of-the-gale-shapley-algorithm."><span class="header-section-number">1.3.1</span> Theorem guaranteeing a unique matching as output of the Gale Shapley algorithm.</h3>
<hr />
<p>All possible executions of the Gale-Shapley algorithm yield the same stable matching <strong>and</strong> in this stable matching every suitor has the best possible partner in any stable matching.</p>
<hr />
<h3 id="proof"><span class="header-section-number">1.3.2</span> Proof</h3>
<hr />
<p>Suppose that an arbitrary execution \(\alpha\) of the algorithm gives \(M\) and that another execution \(\beta\) gives \(M&#39;\) such that \(\exists\) \(s\in S\) such that \(s\) prefers \(r&#39;=M&#39;(s)\) to \(r=M(s)\).</p>
<p>Without loss of generality this implies that during \(\alpha\) \(r&#39;\) must have rejected \(s\). Suppose, again without loss of generality that this was the first occasion that a rejection occured during \(\alpha\) and assume that this rejection occurred because \(r&#39;=M&#39;(s&#39;)\). This implies that \(s&#39;\) has no stable match that is higher in \(s&#39;\)'s preference list than \(r&#39;\) (as we have assumed that this is the first rejection).</p>
<p>Thus \(s&#39;\) prefers \(r&#39;\) to \(M&#39;(s&#39;)\) so that \((s&#39;,r&#39;)\) blocks \(M&#39;\). Each suitor is therefore matched in \(M\) with his favorite stable reviewer and since \(\alpha\) was arbitrary it follows that all possible executions give the same matching.</p>
<hr />
<p>We call a matching obtained from the Gale Shapley algorithm <em>suitor-optimal</em> because of the previous theorem. The next theorem shows another important property of the algorithm.</p>
<h3 id="theorem-of-reviewer-sub-optimality"><span class="header-section-number">1.3.3</span> Theorem of reviewer sub optimality</h3>
<hr />
<p>In a suitor-optimal stable matching each reviewer has the worst possible matching.</p>
<hr />
<h3 id="proof-1"><span class="header-section-number">1.3.4</span> Proof</h3>
<hr />
<p>Assume that the result is not true. Let \(M_0\) be a suitor-optimal matching and assume that there is a stable matching \(M&#39;\) such that \(\exists\) \(r\) such that \(r\) prefers \(s=M_0^{-1}(r)\) to \(s&#39;=M&#39;^{-1}(r)\). This implies that \((r,s)\) blocks \(M&#39;\) unless \(s\) prefers \(M&#39;(s)\) to \(s\) which contradicts the fact the \(s\) has no stable match that he prefers in \(M_0\).</p>
<hr />
<p>(Other versions of the above: <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/./Chapter_15_Matching_games.pdf">pdf</a> <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/./Chapter_15_Matching_games.docx">docx (not recommended)</a>)</p>
</body>
</html>
