<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h1 id="or-3-chapter-15---matching-games"><span class="header-section-number">1</span> OR 3: Chapter 15 - Matching games</h1>
<h2 id="recap"><span class="header-section-number">1.1</span> Recap</h2>
<p>In the <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/Chapter_14_Stochastic_games.html">previous chapter</a>:</p>
<ul>
<li>We defined stochastic games;</li>
<li>We investigated approached to obtaining Markov strategy Nash equilibria.</li>
</ul>
<p>In this chapter we will take a look at a very different type of game.</p>
<h2 id="matching-games"><span class="header-section-number">1.2</span> Matching Games</h2>
<p>Consider the following situation:</p>
<blockquote>
<p>&quot;In a population of <span class="math">\(N\)</span> suitors and <span class="math">\(N\)</span> reviewers. We allow the suitors and reviewers to rank their preferences and are now trying to match the suitors and reviewers in such a way as that every matching is stable.&quot;</p>
</blockquote>
<p>If we consider the following example with suitors: <span class="math">\(S=\{a,b,c\}\)</span> and reviewers: <span class="math">\(R=\{A,B,C\}\)</span> with preferences shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img01.png" />
</div>
<p>So that <span class="math">\(c\)</span> would prefer to be matched with <span class="math">\(b\)</span>, then <span class="math">\(c\)</span> and lastly <span class="math">\(c\)</span>. One possible matching would be is shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img02.png" />
</div>
<p>In this situation, <span class="math">\(a\)</span> and <span class="math">\(b\)</span> are getting their first choice and <span class="math">\(c\)</span> their second choice. However <span class="math">\(B\)</span> actually prefers <span class="math">\(c\)</span> so that matching is unstable.</p>
<p>Let us write down some formal definitions:</p>
<h3 id="definition-of-a-matching-game"><span class="header-section-number">1.2.1</span> Definition of a matching game</h3>
<hr />
<p>A matching game of size <span class="math">\(N\)</span> is defined by two disjoint sets <span class="math">\(S\)</span> and <span class="math">\(R\)</span> or suitors and reviewers of size <span class="math">\(N\)</span>. Associated to each element of <span class="math">\(S\)</span> and <span class="math">\(R\)</span> is a preference list:</p>
<p><span class="math">\[f:S\to R^N\text{ and }g:R\to S^N\]</span></p>
<p>A matching <span class="math">\(M\)</span> is a any bijection between <span class="math">\(S\)</span> and <span class="math">\(R\)</span>. If <span class="math">\(s\in S\)</span> and <span class="math">\(r\in R\)</span> are matched by <span class="math">\(M\)</span> we denote:</p>
<p><span class="math">\[M(s)=r\]</span></p>
<hr />
<h3 id="definition-of-a-blocking-pair"><span class="header-section-number">1.2.2</span> Definition of a blocking pair</h3>
<hr />
<p>A pair <span class="math">\((s,r)\)</span> is said to <strong>block</strong> a matching <span class="math">\(M\)</span> if <span class="math">\(M(s)\ne r\)</span> but <span class="math">\(s\)</span> prefers <span class="math">\(r\)</span> to <span class="math">\(M(r)\)</span> and <span class="math">\(r\)</span> prefers <span class="math">\(s\)</span> to <span class="math">\(M^{-1}(r)\)</span>.</p>
<hr />
<p>In our previous example <span class="math">\((c,B)\)</span> blocks the proposed matching.</p>
<h3 id="definition-of-a-stable-matching"><span class="header-section-number">1.2.3</span> Definition of a stable matching</h3>
<hr />
<p>A matching <span class="math">\(M\)</span> with no blocking pair is said to be stable.</p>
<hr />
<p>A stable matching is shown.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img03.png" />
</div>
<p>The stable matching is not unique, the matching shown is also stable:</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img04.png" />
</div>
<h2 id="the-gale-shapley-algorithm"><span class="header-section-number">1.3</span> The Gale-Shapley Algorithm</h2>
<p>Here is the Gale-Shapley algorithm, which gives a stable matching for a matching game:</p>
<ol style="list-style-type: decimal">
<li>Assign every <span class="math">\(s\in S\)</span> and <span class="math">\(r\in R\)</span> to be unmatched</li>
<li>Pick some unmatched <span class="math">\(s\in S\)</span>, let <span class="math">\(r\)</span> be the top of <span class="math">\(s\)</span>'s preference list:
<ul>
<li>If <span class="math">\(r\)</span> is unmatched set <span class="math">\(M(s)=r\)</span></li>
<li>If <span class="math">\(r\)</span> is matched:
<ul>
<li>If <span class="math">\(r\)</span> prefers <span class="math">\(s\)</span> to <span class="math">\(M^{-1}(r)\)</span> then set <span class="math">\(M(r)=s\)</span></li>
<li>Otherwise <span class="math">\(s\)</span> remains unmatched and remove <span class="math">\(r\)</span> from <span class="math">\(r\)</span>'s preference list.</li>
</ul></li>
</ul></li>
<li>Repeat step 2 until all <span class="math">\(s\in S\)</span> are matched.</li>
</ol>
<p>Let us illustrate this algorithm with the above example.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img05.png" />
</div>
<p>We pick <span class="math">\(c\)</span> and as all the reviewers are unmatched set <span class="math">\(M(c)=B\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img06.png" />
</div>
<p>We pick <span class="math">\(b\)</span> and as <span class="math">\(B\)</span> is matched but prefers <span class="math">\(c\)</span> to <span class="math">\(b\)</span> we cross out <span class="math">\(B\)</span> from <span class="math">\(b\)</span>'s preferences.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img07.png" />
</div>
<p>We pick <span class="math">\(b\)</span> again and set <span class="math">\(M(b)=C\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img08.png" />
</div>
<p>We pick <span class="math">\(a\)</span> and set <span class="math">\(M(a)=A\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img04.png" />
</div>
<p><strong>Let us repeat the algorithm but pick <span class="math">\(b\)</span> as our first suitor. </strong></p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img05.png" />
</div>
<p>We pick <span class="math">\(b\)</span> and as all the reviewers are unmatched set <span class="math">\(M(b)=B\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img09.png" />
</div>
<p>We pick <span class="math">\(a\)</span> and as <span class="math">\(A\)</span> is unmatched set <span class="math">\(M(a)=A\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img10.png" />
</div>
<p>We pick <span class="math">\(c\)</span> and <span class="math">\(b\)</span> is matched but prefers <span class="math">\(c\)</span> to <span class="math">\(M^{-1}(B)=b\)</span>, we set <span class="math">\(M(c)=B\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img11.png" />
</div>
<p>We pick <span class="math">\(b\)</span> and as <span class="math">\(B\)</span> is matched but prefers <span class="math">\(c\)</span> to <span class="math">\(b\)</span> we cross out <span class="math">\(B\)</span> from <span class="math">\(b\)</span>'s preferences:</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img12.png" />
</div>
<p>We pick <span class="math">\(b\)</span> again and set <span class="math">\(M(b)=C\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/images/L15-img13.png" />
</div>
<p>Both these have given the same matching.</p>
<h3 id="theorem-guaranteeing-a-unique-matching-as-output-of-the-gale-shapley-algorithm."><span class="header-section-number">1.3.1</span> Theorem guaranteeing a unique matching as output of the Gale Shapley algorithm.</h3>
<hr />
<p>All possible executions of the Gale-Shapley algorithm yield the same stable matching <strong>and</strong> in this stable matching every suitor has the best possible partner in any stable matching.</p>
<hr />
<h3 id="proof"><span class="header-section-number">1.3.2</span> Proof</h3>
<hr />
<p>Suppose that an arbitrary execution <span class="math">\(\alpha\)</span> of the algorithm gives <span class="math">\(M\)</span> and that another execution <span class="math">\(\beta\)</span> gives <span class="math">\(M&#39;\)</span> such that <span class="math">\(\exists\)</span> <span class="math">\(s\in S\)</span> such that <span class="math">\(s\)</span> prefers <span class="math">\(r&#39;=M&#39;(s)\)</span> to <span class="math">\(r=M(s)\)</span>.</p>
<p>Without loss of generality this implies that during <span class="math">\(\alpha\)</span> <span class="math">\(r&#39;\)</span> must have rejected <span class="math">\(s\)</span>. Suppose, again without loss of generality that this was the first occasion that a rejection occured during <span class="math">\(\alpha\)</span> and assume that this rejection occurred because <span class="math">\(r&#39;=M(s&#39;)\)</span>. This implies that <span class="math">\(s&#39;\)</span> has no stable match that is higher in <span class="math">\(s&#39;\)</span>'s preference list than <span class="math">\(r&#39;\)</span> (as we have assumed that this is the first rejection).</p>
<p>Thus <span class="math">\(s&#39;\)</span> prefers <span class="math">\(r&#39;\)</span> to <span class="math">\(M&#39;(s&#39;)\)</span> so that <span class="math">\((s&#39;,r&#39;)\)</span> blocks <span class="math">\(M&#39;\)</span>. Each suitor is therefore matched in <span class="math">\(M\)</span> with his favorite stable reviewer and since <span class="math">\(\alpha\)</span> was arbitrary it follows that all possible executions give the same matching.</p>
<hr />
<p>We call a matching obtained from the Gale Shapley algorithm <em>suitor-optimal</em> because of the previous theorem. The next theorem shows another important property of the algorithm.</p>
<h3 id="theorem-of-reviewer-sub-optimality"><span class="header-section-number">1.3.3</span> Theorem of reviewer sub optimality</h3>
<hr />
<p>In a suitor-optimal stable matching each reviewer has the worst possible matching.</p>
<hr />
<h3 id="proof-1"><span class="header-section-number">1.3.4</span> Proof</h3>
<hr />
<p>Assume that the result is not true. Let <span class="math">\(M_0\)</span> be a suitor-optimal matching and assume that there is a stable matching <span class="math">\(M&#39;\)</span> such that <span class="math">\(\exists\)</span> <span class="math">\(r\)</span> such that <span class="math">\(r\)</span> prefers <span class="math">\(s=M_0^{-1}(r)\)</span> to <span class="math">\(s&#39;=M&#39;^{-1}(r)\)</span>. This implies that <span class="math">\((r,s)\)</span> blocks <span class="math">\(M&#39;\)</span> unless <span class="math">\(s\)</span> prefers <span class="math">\(M&#39;(s)\)</span> to <span class="math">\(s\)</span> which contradicts the fact the <span class="math">\(s\)</span> has no stable match that he prefers in <span class="math">\(M_0\)</span>.</p>
<hr />
<p>(Other versions of the above: <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/Chapter_15_Matching_games.pdf">pdf</a> <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Course_Notes/Chapter_15_Matching_games.docx">docx (not recommended)</a>)</p>
</body>
</html>
