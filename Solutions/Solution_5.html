<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<h1 id="homework-sheet-5---matching-games-cooperative-games-and-routing-games"><span class="header-section-number">1</span> Homework sheet 5 - Matching games, cooperative games and routing games</h1>
<ol style="list-style-type: decimal">
<li><p>Obtain stable suitor optimal and reviewer optimal matchings for the matching games shown.</p>
<ul>
<li><p>Game 1:</p>
<p><img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img01.png" /><br /> <strong>Solution</strong></p>
<p>Following the algorithm:</p>
<p>Suitor optimal: <span class="math">\(\{a: C, b: A, c: B\}\)</span> Reviewer optimal: <span class="math">\(\{&#39;A&#39;: &#39;b&#39;, &#39;B&#39;: &#39;c&#39;, &#39;C&#39;: &#39;a&#39;\}\)</span></p></li>
<li><p>Game 2:</p>
<p><img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img02.png" /><br /> <strong>Solution</strong></p>
<p>Following the algorithm:</p>
<p>Suitor optimal: <span class="math">\(\{a: C, b: B, c: A\}\)</span> Reviewer optimal: <span class="math">\(\{A: c, B: b, C: a\}\)</span></p></li>
<li><p>Game 3:</p>
<p><img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img03.png" /><br /> <strong>Solution</strong></p>
<p>Following the algorithm:</p>
<p>Suitor optimal: <span class="math">\(\{a: D, b: A, c: C, d: B\}\)</span> Reviewer optimal: <span class="math">\(\{A: b, B: d, C: c, D: a\}\)</span></p></li>
<li><p>Game 4:</p>
<p><img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img04.png" /><br /> <strong>Solution</strong></p>
<p>Following the algorithm:</p>
<p>Suitor optimal: <span class="math">\(\{a: D, b: A, c: C, d: B\}\)</span> Reviewer optimal: <span class="math">\(\{A: c, B: d, C: b, D: a\}\)</span></p></li>
</ul></li>
<li><p>Consider a matching game where all reviewers have the same preference list. Prove that there is a single stable matching.</p>
<p><strong>Solution</strong></p>
<p>Let <span class="math">\(M\)</span> be the suitor optimal matching (given by the Gale-Shapley algorithm).</p>
<p>Assume <span class="math">\(\exists\)</span> <span class="math">\(M&#39;\ne M\)</span>. As <span class="math">\(M\)</span> is reviewer sub-optimal <span class="math">\(\exists\)</span> a subset <span class="math">\(\bar R\subseteq R\)</span> such that: For all <span class="math">\(r\in \bar R\)</span>: <span class="math">\(M^{-1}(r)\)</span> is worse than <span class="math">\(M&#39;^{-1}(r)\)</span>. For <span class="math">\(r\in R\setminus \bar R\)</span> <span class="math">\(M^{-1}(r)=M&#39;^{-1}(r)\)</span>.</p>
<p>Consider <span class="math">\(\bar r\in\bar R\)</span>, as all reviewers have same reference list, let <span class="math">\(r\)</span> be the reviewer with ''best'' suitor under matching <span class="math">\(M\)</span> (the matching given by the Gale Shapley algorithm).</p>
<p>When considering <span class="math">\(M&#39;\)</span>, reviewers outside of <span class="math">\(\bar R\)</span> have same matching as in <span class="math">\(M\)</span>. All reviewers in <span class="math">\(\bar R\)</span> must have a ''better'' matching.</p>
<p>As all reviewers have the same preference list, <span class="math">\(\bar r\)</span> cannot be matched thus <span class="math">\(M&#39;\)</span> is not a matching.</p></li>
<li><p>For the following cooperative games:</p>
<ol style="list-style-type: lower-roman">
<li>Verify if the game is monotonic.</li>
<li>Verify if the game is super additive.</li>
<li>Obtain the Shapley value.</li>
</ol>
<p><span class="math">\[
v_1(C)=\begin{cases}
5,&amp;\text{if }C=\{1\}\\
3,&amp;\text{if }C=\{2\}\\
2,&amp;\text{if }C=\{3\}\\
12,&amp;\text{if }C=\{1,2\}\\
5,&amp;\text{if }C=\{1,3\}\\
4,&amp;\text{if }C=\{2,3\}\\
13,&amp;\text{if }C=\{1,2,3\}\\
\end{cases}
\]</span></p>
<p><strong>Solution</strong></p>
<p>Game is monotone but is not super additive: <span class="math">\(v_1(\{1,3\})=5\)</span> and <span class="math">\(v_1(\{1\})+v_1(\{3\})=5+2=7\)</span>.</p>
<p>The Shapley value is <span class="math">\(\phi=(20/3, 31/6, 7/6)\)</span>.</p>
<p><span class="math">\[
v_2(C)=\begin{cases}
6,&amp;\text{if }C=\{1\}\\
0,&amp;\text{if }C=\{2\}\\
5,&amp;\text{if }C=\{1,2\}\\
\end{cases}
\]</span></p>
<p><strong>Solution</strong></p>
<p>Game is not monotone: <span class="math">\(v_2(\{1\})=6\geq v_2(\{1,2\})=5\)</span>. Game is not super additive: <span class="math">\(v_2(\{1,2\})=5\leq v_2(\{1\})+v_2(\{2\})=6\)</span>.</p>
<p>The Shapley value is <span class="math">\(\phi=(11/2,-1/2)\)</span>.</p>
<p><span class="math">\[
v_3(C)=\begin{cases}
6,&amp;\text{if }C=\{1\}\\
6,&amp;\text{if }C=\{2\}\\
13,&amp;\text{if }C=\{3\}\\
6,&amp;\text{if }C=\{1,2\}\\
13,&amp;\text{if }C=\{1,3\}\\
13,&amp;\text{if }C=\{2,3\}\\
26,&amp;\text{if }C=\{1,2,3\}\\
\end{cases}
\]</span></p>
<p>Game is monotone but not super additive: <span class="math">\(v_3(\{1,2\})=6\leq v_3(\{1\})+v_3(\{2\})=12\)</span></p>
<p>The Shapley value is <span class="math">\(\phi=(19/3, 19/3, 40/3)\)</span>.</p>
<p><span class="math">\[
v_4(C)=\begin{cases}
6,&amp;\text{if }C=\{1\}\\
7,&amp;\text{if }C=\{2\}\\
0,&amp;\text{if }C=\{3\}\\
8,&amp;\text{if }C=\{4\}\\
7,&amp;\text{if }C=\{1,2\}\\
6,&amp;\text{if }C=\{1,3\}\\
12,&amp;\text{if }C=\{1,4\}\\
7,&amp;\text{if }C=\{2,3\}\\
12,&amp;\text{if }C=\{2,4\}\\
8&amp;\text{if }C=\{3,4\}\\
7,&amp;\text{if }C=\{1,2,3\}\\
24,&amp;\text{if }C=\{1,2,4\}\\
12,&amp;\text{if }C=\{1,3,4\}\\
12,&amp;\text{if }C=\{2,3,4\}\\
25,&amp;\text{if }C=\{1,2,3,4\}\\
\end{cases}
\]</span></p>
<p>Game is monotone but not super additive: <span class="math">\(v_4(\{1,2\})=7\leq v_4(\{1\})+v_4(\{2\})=13\)</span></p>
<p>The Shapley value is <span class="math">\(\phi=(83/12, 89/12, 1/4, 125/12)\)</span>.</p></li>
<li><p>Prove that the Shapley value has the following properties:</p>
<ul>
<li><p>Efficiency</p>
<p><strong>Solution</strong></p>
<p>For every permutation <span class="math">\(\pi\)</span> we have:</p>
<p><span class="math">\[\sum_{i=1}^{N}\Delta_{\pi}^{G}(i)=v(S_{\pi}(1)\cup \{1\})-v(S_{\pi}(1))+v(S_{\pi}(2)\cup \{2\})-v(S_{\pi}(2))\dots v(S_{\pi}(N)\cup N)-v(S_{\pi}(N))=v(S_{\pi}(N)\cup N)=v(N)\]</span></p>
<p>taking the mean over all permutations (which is by definition the Shapley value) we have the required result.</p></li>
<li><p>Null player</p>
<p><strong>Solution</strong></p>
<p>Consider any permutation <span class="math">\(\pi\)</span> and a null player <span class="math">\(i\)</span>. We have <span class="math">\(v(S_{\pi}(i))\cup \{i\}=v(S_{\pi})\)</span>. Thus, <span class="math">\(\Delta_{\pi}^{G}(i)=0\)</span>, as this holds for all <span class="math">\(\pi\)</span> the result follows.</p></li>
<li><p>Symmetry</p>
<p><strong>Solution</strong></p>
<p>Assume that <span class="math">\(i\)</span> and <span class="math">\(j\)</span> are symmetric. Given a permutation <span class="math">\(\pi\)</span>, let <span class="math">\(\pi&#39;\)</span> denote the permutation obtained by swapping <span class="math">\(i\)</span> and <span class="math">\(j\)</span>.</p>
<ul>
<li><p>Assume that <span class="math">\(i\)</span> precedes <span class="math">\(j\)</span> in <span class="math">\(\pi\)</span>, this gives <span class="math">\(S_{\pi}(i)=S_{\pi&#39;}(j)\)</span>, if we let <span class="math">\(C=S_{\pi&#39;}(j)\)</span>:</p>
<p><span class="math">\[\Delta_{\pi}^{G}(i)=v(C\cup \{i\})-v(C)\]</span></p>
<p>and</p>
<p><span class="math">\[\Delta_{\pi&#39;}^{G}(j)=v(C\cup \{j\})-v(C)\]</span></p>
<p>By symmetry <span class="math">\(\Delta_{\pi}^{G}(i)=\Delta_{\pi&#39;}^{G}(j)\)</span>.</p></li>
<li><p>Assume that <span class="math">\(i\)</span> does not precede <span class="math">\(j\)</span> in <span class="math">\(\pi\)</span>, let <span class="math">\(C=S_{\pi}(i)\setminus \{j\}\)</span>. We have:</p>
<p><span class="math">\[\Delta_{\pi}^{G}(i)=v(C\cup \{i\} \cup \{j\})-v(C\cup \{j\})\]</span></p>
<p>and</p>
<p><span class="math">\[\Delta_{\pi&#39;}^{G}(j)=v(C\cup \{j\} \cup \{i\})-v(C\cup \{i\})\]</span></p>
<p>Since <span class="math">\(C\subseteq N\)</span> and <span class="math">\(i,j\notin C\)</span> we have by symmetry <span class="math">\(v(C\cup\{i\})=v(C\cup\{j\})\)</span> and therefore <span class="math">\(\Delta_{\pi}^{G}(i)=\Delta_{\pi&#39;}^{G}(j)\)</span>.</p></li>
</ul>
<p>We have that <span class="math">\(\Delta_{\pi}^{G}(i)=\Delta_{\pi&#39;}^{G}(j)\)</span> for all <span class="math">\(\pi\in\Pi_N\)</span>, there is an abvious bijection between all <span class="math">\(\pi\)</span> and corresponding <span class="math">\(\pi&#39;\)</span> thus:</p>
<p><span class="math">\[\phi_i(G)=1/n!\sum_{\pi\in\Pi_N}\Delta_{\pi}^{G}(i)=\sum_{\pi\in\Pi_N}\Delta_{\pi&#39;}^{G}(j)=\phi_j(G)\]</span></p>
<p>as required.</p></li>
<li><p>Additivity</p></li>
</ul>
<p><strong>Solution</strong></p>
<p>Let <span class="math">\(v^+\)</span> be the characteristic function of the game <span class="math">\(G^1+G^2\)</span>. Following from the definition of additivity it is immediate to note that we have <span class="math">\(\Delta^{+}_{\pi}(i)=\Delta^{v_1}_{\pi}(i)+\Delta^{v_2}_{\pi}(i)\)</span>. The result follows.</p></li>
</ol>
<p>Note that this does not prove that the Shapley value is the only vector that has those properties (it in fact is though).</p>
<ol start="5" style="list-style-type: decimal">
<li><p>Calculate the Nash flow and the optimal flow for the following routing game:</p>
<p><img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img05.png" /><br /> <strong>Solution</strong></p>
<p>For the <strong>Nash flow</strong>:</p>
<p>Let <span class="math">\(\alpha\)</span> be the traffic along the top arc and <span class="math">\(\beta\)</span> the traffic along the bottom arc.</p>
<p>By definition for commodity 1 we have:</p>
<p><span class="math">\[\alpha^2+\alpha=2(2/3-\alpha+1/2-\beta)\]</span></p>
<p>By definition for commodity 2 we have:</p>
<p><span class="math">\[3/2\beta=2(2/3-\alpha+1/2-\beta)\]</span></p>
<p>Solving this later equation gives:</p>
<p><span class="math">\[\beta=(8-4\alpha)/7\]</span></p>
<p>Substituting this in to the first equation gives:</p>
<p><span class="math">\[\alpha^2+13/7\alpha-12/7=0\]</span></p>
<p>which has solution <span class="math">\(\alpha=\frac{1}{14} \, \sqrt{505} - \frac{13}{14}, -\frac{2}{49} \)</span>, substituting this in to our expression for <span class="math">\(\beta\)</span> gives: <span class="math">\(\beta = \sqrt{505} + \frac{82}{49}\)</span>.</p>
<p>For the <strong>Optimal flow</strong> we use the marginal costs:</p>
<p><span class="math">\[c^*(x) = (2x+1)x+x^2+x\]</span> <span class="math">\[c^*(x) = 4x\]</span> <span class="math">\[c^*(x) = 3x\]</span></p>
<p>We now repeat the above:</p>
<p>By definition for commodity 1 we have:</p>
<p><span class="math">\[{\left(2 \, \alpha + 1\right)} \alpha + \alpha^{2} + \alpha = 4(2/3-\alpha+1/2-\beta)\]</span></p>
<p>By definition for commodity 2 we have:</p>
<p><span class="math">\[3\beta=4(2/3-\alpha+1/2-\beta)\]</span></p>
<p>Solving this later equation gives:</p>
<p><span class="math">\[\beta=(8-4\alpha)/7\]</span></p>
<p>Substituting this in to the first equation gives:</p>
<p><span class="math">\[(2*\alpha + 1)*\alpha + \alpha^2 + 19/7*\alpha - 24/7 =0\]</span></p>
<p>which has solution <span class="math">\(\alpha=\frac{1}{21} \, \sqrt{673} - \frac{13}{21}\)</span>, substituting this in to our expression for <span class="math">\(\beta\)</span> gives: <span class="math">\(\beta = \sqrt{673} + \frac{220}{147}\)</span>.</p></li>
<li><p>For a routing game the 'Price of Anarchy' is defined as:</p>
<p><span class="math">\[\text{PoA}=\frac{C(\tilde f)}{C(f^*)}\]</span></p>
<p>For the game shown (a generalisation of &quot;Pigou's example&quot;) obtain the PoA as a function of <span class="math">\(\alpha\)</span>.</p>
<div class="figure">
<img src="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/images/E05-img07.png" />
</div>
<p><strong>Solution</strong></p>
<p>Let <span class="math">\(x\)</span> be the flow along the bottom arc. The Nash flow <span class="math">\(\tilde x\)</span> is immediate:</p>
<p><span class="math">\[\tilde x=1\]</span></p>
<p>giving <span class="math">\(C(\tilde f)=1\)</span></p>
<p>The optimal flow is <span class="math">\(x^*\)</span> solves:</p>
<p><span class="math">\[(\alpha+1)x^{\alpha}=1\]</span></p>
<p>thus</p>
<p><span class="math">\[x^*=\left(\frac{1}{\alpha+1}\right)^{1/\alpha}\]</span></p>
<p>giving <span class="math">\(C(f^*)=(1-x^*)+{x^*}^{\alpha}x^*=\left(\left(\frac{1}{\alpha+1}\right)^{1/\alpha}\right)^{\alpha}\left(\frac{1}{\alpha+1}\right)^{1/\alpha}+1-\left(\frac{1}{\alpha+1}\right)^{1/\alpha}\)</span></p>
<p>Thus:</p>
<p><span class="math">\[\text{PoA}=\frac{(\alpha+1)^{1/\alpha+1}}{\alpha+2}\]</span></p>
<p>It can be shown that the above is a decreasing function in <span class="math">\(\alpha\)</span>, this implies that as the 'shortcut' gets 'better' (recall that <span class="math">\(x\leq 1\)</span>) the negative effect of selfish behaviour increases.</p></li>
</ol>
<p>(Other versions of the above: <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/Solution_5.pdf">pdf</a> <a href="http://drvinceknight.github.io/Year_3_game_theory_course/Solutions/Solution_5.docx">docx (not recommended)</a>)</p>
</body>
</html>
